<div class="page">

  <!-- ================= LEFT PANEL ================= -->
    <div class="left-panel">
        <a routerLink="/login" class="back-link">← Back to Home</a>

        <!-- Visual watermark -->
        <div class="watermark">
            <i class="bi bi-buildings"></i>
        </div>

        <div class="left-content-box">

            <div class="brand">
            <div class="brand-icon">
                <i class="bi bi-building"></i>
            </div>
            <div>
                <h1>GBA Trade License</h1>
                <span>Greater Bengaluru Authority</span>
            </div>
            </div>

            <h2 class="hero-title">
            Digital Trade Licensing Portal
            </h2>

            <p class="hero-desc">
            A unified platform for applying, renewing, tracking, and managing
            trade licenses securely under the Greater Bengaluru Authority.
            </p>

            <div class="hero-points">
            <div>✔ 24/7 Online Applications</div>
            <div>✔ Real-time Status Tracking</div>
            <div>✔ Instant Downloads & Receipts</div>
            </div>
        </div>
    </div>



  <!-- ================= RIGHT PANEL ================= -->
  <div class="right-panel">

    <div class="card card-lg">

      <!-- ===== HEADER ===== -->
      <div class="card-header">
        <h2>Create New Account</h2>
        <p>Register to apply, renew, or manage your Trade License</p>
      </div>

      <form (ngSubmit)="onRegister()">

        <!-- ===== SECTION 1 : PERSONAL DETAILS ===== -->
        <div class="form-section">
          <h4>Personal Details</h4>

          <div class="form-grid">

            <div class="form-control">
              <input type="text" [(ngModel)]="registerModel.fullName" name="fullName"/>
              <label>Full Name</label>
            </div>

            <div class="form-control">
              <input type="email" [(ngModel)]="registerModel.email" name="email"/>
              <label>Email Address</label>
            </div>

            <div class="form-control full-width">
              <input type="tel"
                inputmode="numeric"
                pattern="[0-9]*"
                maxlength="10"
                name="mobileNumber"
                required
                [(ngModel)]="registerModel.mobileNumber"
                (input)="onPhoneInput()" 
              />
              <label>Mobile Number</label>
            </div>
          </div>
        </div>

        <!-- ===== SECTION 2 : MOBILE VERIFICATION ===== -->
        <div class="form-section">
          <h4>Mobile Verification</h4>

          <!-- OTP ACTION ROW -->
          <div class="otp-field">
            <!-- <button type="button" class="btn-outline" (click)="onClicksendOTP()">
              Send OTP
            </button> -->
            <button
              type="button"
              class="btn btn-primary"
              (click)="onClicksendOTP()"
                [disabled]="isOtpLoading()">
              {{ isOtpLoading()
                  ? 'Resend OTP in ' + otpCooldown() + 's'
                  : 'Send OTP'
              }}
            </button>

            <div class="otp-wrapper">
              <input
                type="text"
                maxlength="6"
                name="otp"
                class="otp-underscore-input"
                (input)="onOtpInput($event)"
                [(ngModel)]="otp"
                [disabled]="isVerifyingOtp"
              />
            </div>
          </div>

          <!-- VERIFIED STATUS -->
          <div *ngIf="isVerifyingOtp" class="otp-verified">
          </div>
        </div>

        <!-- ===== PRIMARY ACTION ===== -->
        <button class="btn-primary btn-lg" type="submit">
          Create Account →
        </button>

        <!-- ===== SECONDARY ACTION ===== -->
        <p class="switch">
          Already registered?
          <a routerLink="/login">Login here</a>
        </p>

      </form>

      <!-- ===== TERMS ===== -->
      <p class="terms">
        By continuing, you agree to GBA's Terms of Service and Privacy Policy
      </p>

    </div>

  </div>
</div>
