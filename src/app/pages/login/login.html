<div class="page">

  <!-- LEFT PANEL -->
  <div class="left-panel">
    <a routerLink="/" class="back-link">‚Üê Back to Home</a>

    <div class="watermark">
      <i class="bi bi-buildings"></i>
    </div>

    <div class="left-content-box">
      <div class="brand">
        <div class="brand-icon">
          <i class="bi bi-building"></i>
        </div>
        <div>
          <h1>GBA Trade License</h1>
          <span>Greater Bengaluru Authority</span>
        </div>
      </div>

      <h2 class="hero-title">Digital Trade Licensing Portal</h2>

      <p class="hero-desc">
        A unified platform for applying, renewing, tracking, and managing
        trade licenses securely under the Greater Bengaluru Authority.
      </p>

      <div class="hero-points">
        <div>‚úî 24/7 Online Applications</div>
        <div>‚úî Real-time Status Tracking</div>
        <div>‚úî Instant Downloads & Receipts</div>
      </div>
    </div>
  </div>

  <!-- RIGHT PANEL -->
  <div class="right-panel">
    <div class="card">
      <h2>Sign In</h2>
      <p class="subtitle">Enter your credentials to access your account</p>

      <form (ngSubmit)="onSubmit()">

        <!-- LOGIN SWITCH -->
        <div class="login-switch">
          <label class="login-switch-label">
            <input
              type="checkbox"
              [(ngModel)]="isUserLogin"
              name="isUserLogin"
            />
            <span>Login as User (OTP)</span>
          </label>
        </div>

        <!-- USER LOGIN -->
        <ng-container *ngIf="isUserLogin">
          <label>Mobile Number</label>
          <input
            type="text"
            maxlength="10"
            [(ngModel)]="mobileNumber"
            name="mobileNumber"
            placeholder="Enter mobile number"
            required
          />

          <div class="otp-field">
            <!-- <button type="button" class="btn-outline" (click)="onClicksendOTP()">
              Send OTP
            </button> -->
            <button
              type="button"
              class="btn btn-primary"
              (click)="onClicksendOTP()"
                [disabled]="isOtpLoading()">
              {{ isOtpLoading()
                  ? 'Resend OTP in ' + otpCooldown() + 's'
                  : 'Send OTP'
              }}
            </button>

            <div class="otp-wrapper">
              <input
                type="text"
                maxlength="6"
                name="otp"
                class="otp-underscore-input"
                (input)="onOtpInput($event)"
                [(ngModel)]="otp"
                [disabled]="isVerifyingOtp"
              />
            </div>
          </div>
        </ng-container>

        <!-- ADMIN LOGIN -->
        <ng-container *ngIf="!isUserLogin">
          <label>Email Address</label>
          <input
            type="email"
            [(ngModel)]="email"
            name="email"
            placeholder="Enter email"
            required
          />

          <label>Password</label>
          <div class="password-field">
            <input
              [type]="showPassword ? 'text' : 'password'"
              [(ngModel)]="password"
              name="password"
              placeholder="Enter password"
              required
            />
            <button type="button" (click)="togglePassword()">üëÅÔ∏è</button>
          </div>

          <a class="forgot" routerLink="/forgot-password">
            Forgot Password?
          </a>
        </ng-container>

        <button class="btn-primary" type="submit">
          {{ isUserLogin ? 'Verify & Login ‚Üí' : 'Sign In ‚Üí' }}
        </button>

        <p class="switch">
          Don‚Äôt have an account?
          <a routerLink="/create-account">Create Account</a>
        </p>
      </form>

      <p class="terms">
        By continuing, you agree to GBA's Terms of Service and Privacy Policy
      </p>
    </div>
  </div>

</div>
