<div class="dashboard-wrapper">

  <!-- TOP BAR -->
  <header class="topbar">
    <div class="topbar-left">

      <button class="sidebar-toggle" (click)="toggleSidebar()">
        <i class="bi bi-list"></i>
      </button>

      <div class="logo-box">
        <i class="bi bi-building"></i>
      </div>

      <div class="brand-text">
        <div class="title">GBA Trade License</div>
        <small class="subtitle">Trader Portal</small>
      </div>

    </div>

    <div class="topbar-right">
      <button class="icon-btn position-relative">
        <i class="bi bi-bell"></i>
        <span class="badge bg-danger notification-count">2</span>
      </button>

      <div class="user-info">
        <div class="name">Rajesh Sharma</div>
        <small class="email">rajesh@email.com</small>
      </div>
    </div>
  </header>

  <!-- BODY -->
  <div class="dashboard-body">

    <!-- SIDEBAR -->
    <aside class="sidebar" [class.collapsed]="isSidebarCollapsed">

      <nav class="menu" *ngIf="role === 'Admin'">
        <a class="menu-item" routerLink="/admin" routerLinkActive="active">
          <i class="bi bi-speedometer2"></i>
          <span>Dashboard</span>
        </a>

        <a class="menu-item" routerLink="/admin/user-roles" routerLinkActive="active">
          <i class="bi bi-people"></i>
          <span>Users & Roles</span>
        </a>

        <a class="menu-item" routerLink="/admin/system-settings" routerLinkActive="active">
          <i class="bi bi-gear"></i>
          <span>System Settings</span>
        </a>

        <a class="menu-item" routerLink="/admin/workflows" routerLinkActive="active">
          <i class="bi bi-diagram-3"></i>
          <span>Approval Workflows</span>
        </a>

        <a class="menu-item" routerLink="/admin/master-data-compliance" routerLinkActive="active">
          <i class="bi bi-database"></i>
          <span>Master Data</span>
        </a>

        <a class="menu-item" routerLink="/admin/compliance" routerLinkActive="active">
          <i class="bi bi-shield-check"></i>
          <span>Compliance Rules</span>
        </a>

        <a class="menu-item" routerLink="/admin/monitoring" routerLinkActive="active">
          <i class="bi bi-activity"></i>
          <span>System Monitoring</span>
        </a>

        <a class="menu-item" routerLink="/admin/reports" routerLinkActive="active">
          <i class="bi bi-file-earmark-text"></i>
          <span>Reports</span>
        </a>
      </nav>

      <nav class="menu" *ngIf="role === 'Approver'">
        <a class="menu-item" routerLink="/admin" routerLinkActive="active">
          <i class="bi bi-speedometer2"></i>
          <span>Dashboard</span>
        </a>
        
        <a class="menu-item" routerLink="/admin/workflows" routerLinkActive="active">
          <i class="bi bi-diagram-3"></i>
          <span>Approval Workflows</span>
        </a>

        <a class="menu-item" routerLink="/admin/reports" routerLinkActive="active">
          <i class="bi bi-file-earmark-text"></i>
          <span>Reports</span>
        </a>
      </nav>

      <nav class="menu" *ngIf="role === 'Trader'">
        <a
            class="menu-item"
            routerLink="/dashboard"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
          >
            <i class="bi bi-speedometer2"></i>
            Dashboard
        </a>

        <a
            class="menu-item"
            routerLink="/new-licenses"
            routerLinkActive="active"
          >
            <i class="bi bi-plus-circle"></i>
            New Application
        </a>

        <a
            class="menu-item"
            routerLink="/licenses"
            routerLinkActive="active"
          >
            <i class="bi bi-check-circle"></i>
            My Licenses
        </a>

        <a
            class="menu-item"
            routerLink="/applications"
            routerLinkActive="active"
          >
            <i class="bi bi-clock-history"></i>
            Applications
        </a>

        <a
            class="menu-item"
            routerLink="/payments"
            routerLinkActive="active"
          >
            <i class="bi bi-credit-card"></i>
            Payments
        </a>

        <a
            class="menu-item"
            routerLink="/payments"
            routerLinkActive="active"
          >
            <i class="bi bi-credit-card"></i>
            Renew License
        </a>
      </nav>

      <div class="sidebar-footer">
        <button class="signout-btn" (click)="logout()">
          <i class="bi bi-box-arrow-right"></i>
          <span>Sign Out</span>
        </button>
      </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="content">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>
